---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/glean-api-agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::info beta

This endpoint is in Beta. Expect changes and instability.

:::

Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"title":"Run","description":"The run information.","allOf":[{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"},{"type":"object","properties":{"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}}}]},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages returned by the run."}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      