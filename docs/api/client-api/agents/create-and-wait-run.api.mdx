---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/glean-api-agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::info beta

This endpoint is in Beta. Expect changes and instability.

:::

Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent. \n\nWhen the agent is configured with an **input form trigger**, this object is **required** and must include a key for **every field defined in the form**, even if the field is shown as optional in the UI. For optional fields you can send an empty string (\"\"), but the key must be present. If any form field key is omitted, the run may fail with a generic 500 error.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>

</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"title":"Run","description":"The run information.","allOf":[{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"},{"type":"object","properties":{"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}}}]},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages returned by the run."}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      