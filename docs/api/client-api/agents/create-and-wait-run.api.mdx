---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/glean-api-agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::info beta

This endpoint is in Beta. Expect changes and instability.

:::

Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"title":"Run","description":"The run information.","allOf":[{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"},{"type":"object","properties":{"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}}}]},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages returned by the run."}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      