---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/glean-api-agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::info beta

This endpoint is in Beta. Expect changes and instability.

:::

Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"title":"Run","description":"The run information.","allOf":[{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"},{"type":"object","properties":{"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}}}]},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages returned by the run."}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      