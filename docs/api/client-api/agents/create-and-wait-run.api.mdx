---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response. **Note**: If the agent uses an input form trigger, all form fields (including optional fields) must be included in the `input` object."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/glean-api-agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::info beta

This endpoint is in Beta. Expect changes and instability.

:::

Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response. **Note**: If the agent uses an input form trigger, all form fields (including optional fields) must be included in the `input` object.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run. **Important**: If the agent uses an input form trigger, the `input` field is required and must include all fields defined in the form schema. Even fields marked as optional in the UI must be included in the request—use an empty string (`\"\"`) for optional fields without values. Omitting required form fields will result in a 500 error.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent. Required when the agent uses an input form trigger.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"title":"Run","description":"The run information.","allOf":[{"description":"Payload for creating a run. **Important**: If the agent uses an input form trigger, the `input` field is required and must include all fields defined in the form schema. Even fields marked as optional in the UI must be included in the request—use an empty string (`\"\"`) for optional fields without values. Omitting required form fields will result in a 500 error.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent. Required when the agent uses an input form trigger.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"},{"type":"object","properties":{"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}}}]},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages returned by the run."}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      