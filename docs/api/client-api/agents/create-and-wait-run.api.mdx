---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response. **Note**: If the agent uses an input form trigger, all form fields (including optional fields) must be included in the `input` object."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/glean-api-agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::info beta

This endpoint is in Beta. Expect changes and instability.

:::

Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response. **Note**: If the agent uses an input form trigger, all form fields (including optional fields) must be included in the `input` object.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run. **Important**: If the agent uses an input form trigger, the `input` field is required and must include all fields defined in the form schema. Even fields marked as optional in the UI must be included in the request—use an empty string (`\"\"`) for optional fields without values. Omitting required form fields will result in a 500 error.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent. Required when the agent uses an input form trigger.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"title":"Run","description":"The run information.","allOf":[{"description":"Payload for creating a run. **Important**: If the agent uses an input form trigger, the `input` field is required and must include all fields defined in the form schema. Even fields marked as optional in the UI must be included in the request—use an empty string (`\"\"`) for optional fields without values. Omitting required form fields will result in a 500 error.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent. Required when the agent uses an input form trigger.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"},{"type":"object","properties":{"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}}}]},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages returned by the run."}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      