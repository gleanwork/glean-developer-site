---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/glean-api-agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::info beta

This endpoint is in Beta. Expect changes and instability.

:::

Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"title":"Run","description":"The run information.","allOf":[{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"},{"type":"object","properties":{"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}}}]},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages returned by the run."}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      