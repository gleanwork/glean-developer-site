---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","title":"Messages","description":"The messages to pass an input to the agent.","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message."},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","required":["text","type"],"title":"MessageTextBlock","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"]}}}}}}},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"description":"Payload for creating a run.","type":"object","properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","title":"Messages","description":"The messages to pass an input to the agent.","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message."},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","required":["text","type"],"title":"MessageTextBlock","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"]}}}}}}},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true},"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}},"required":["agent_id"]},"messages":{"type":"array","title":"Messages","description":"The messages returned by the run.","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message."},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","required":["text","type"],"title":"MessageTextBlock","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"]}}}}}}}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      