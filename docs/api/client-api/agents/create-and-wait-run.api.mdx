---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/glean-api-agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::info beta

This endpoint is in Beta. Expect changes and instability.

:::

Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"title":"Run","description":"The run information.","allOf":[{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"},{"type":"object","properties":{"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}}}]},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages returned by the run."}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      