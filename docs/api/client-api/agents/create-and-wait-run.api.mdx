---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/glean-api-agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::info beta

This endpoint is in Beta. Expect changes and instability.

:::

Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"title":"Run","description":"The run information.","allOf":[{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"},{"type":"object","properties":{"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}}}]},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages returned by the run."}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      