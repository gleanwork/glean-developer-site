---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response. **Note**: If the agent uses an input form trigger, all form fields (including optional fields) must be included in the `input` object."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/glean-api-agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::info beta

This endpoint is in Beta. Expect changes and instability.

:::

Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response. **Note**: If the agent uses an input form trigger, all form fields (including optional fields) must be included in the `input` object.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run. **Important**: If the agent uses an input form trigger, the `input` field is required and must include all fields defined in the form schema. Even fields marked as optional in the UI must be included in the request—use an empty string (`\"\"`) for optional fields without values. Omitting required form fields will result in a 500 error.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent. Required when the agent uses an input form trigger.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"title":"Run","description":"The run information.","allOf":[{"description":"Payload for creating a run. **Important**: If the agent uses an input form trigger, the `input` field is required and must include all fields defined in the form schema. Even fields marked as optional in the UI must be included in the request—use an empty string (`\"\"`) for optional fields without values. Omitting required form fields will result in a 500 error.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent. Required when the agent uses an input form trigger.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"},{"type":"object","properties":{"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}}}]},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages returned by the run."}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      