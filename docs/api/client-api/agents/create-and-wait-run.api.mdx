---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response. **Note**: If the agent uses an input form trigger, all form fields (including optional fields) must be included in the `input` object."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/glean-api-agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::info beta

This endpoint is in Beta. Expect changes and instability.

:::

Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response. **Note**: If the agent uses an input form trigger, all form fields (including optional fields) must be included in the `input` object.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run. **Important**: If the agent uses an input form trigger, the `input` field is required and must include all fields defined in the form schema. Even fields marked as optional in the UI must be included in the request—use an empty string (`\"\"`) for optional fields without values. Omitting required form fields will result in a 500 error.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent. Required when the agent uses an input form trigger.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"title":"Run","description":"The run information.","allOf":[{"description":"Payload for creating a run. **Important**: If the agent uses an input form trigger, the `input` field is required and must include all fields defined in the form schema. Even fields marked as optional in the UI must be included in the request—use an empty string (`\"\"`) for optional fields without values. Omitting required form fields will result in a 500 error.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent. Required when the agent uses an input form trigger.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"},{"type":"object","properties":{"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}}}]},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages returned by the run."}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      