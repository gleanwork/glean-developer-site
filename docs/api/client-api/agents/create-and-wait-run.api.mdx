---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/glean-api-agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::info beta

This endpoint is in Beta. Expect changes and instability.

:::

Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"title":"Run","description":"The run information.","allOf":[{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"},{"type":"object","properties":{"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}}}]},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages returned by the run."}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      