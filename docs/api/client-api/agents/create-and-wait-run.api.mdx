---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/glean-api-agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::info beta

This endpoint is in Beta. Expect changes and instability.

:::

Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"title":"Run","description":"The run information.","allOf":[{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"},{"type":"object","properties":{"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}}}]},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages returned by the run."}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      