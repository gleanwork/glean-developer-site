---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response. **Note**: If the agent uses an input form trigger, all form fields (including optional fields) must be included in the `input` object."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/glean-api-agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::info beta

This endpoint is in Beta. Expect changes and instability.

:::

Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response. **Note**: If the agent uses an input form trigger, all form fields (including optional fields) must be included in the `input` object.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run. **Important**: If the agent uses an input form trigger, the `input` field is required and must include all fields defined in the form schema. Even fields marked as optional in the UI must be included in the request—use an empty string (`\"\"`) for optional fields without values. Omitting required form fields will result in a 500 error.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent. Required when the agent uses an input form trigger.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"title":"Run","description":"The run information.","allOf":[{"description":"Payload for creating a run. **Important**: If the agent uses an input form trigger, the `input` field is required and must include all fields defined in the form schema. Even fields marked as optional in the UI must be included in the request—use an empty string (`\"\"`) for optional fields without values. Omitting required form fields will result in a 500 error.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent. Required when the agent uses an input form trigger.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"},{"type":"object","properties":{"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}}}]},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages returned by the run."}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      