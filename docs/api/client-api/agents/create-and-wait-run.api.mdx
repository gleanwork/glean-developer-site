---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/glean-api-agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::info beta

This endpoint is in Beta. Expect changes and instability.

:::

Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"title":"Run","description":"The run information.","allOf":[{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"},{"type":"object","properties":{"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}}}]},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages returned by the run."}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      