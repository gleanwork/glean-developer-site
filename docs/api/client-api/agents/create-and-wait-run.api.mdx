---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/glean-api-agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::info beta

This endpoint is in Beta. Expect changes and instability.

:::

Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"title":"Run","description":"The run information.","allOf":[{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"},{"type":"object","properties":{"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}}}]},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages returned by the run."}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      