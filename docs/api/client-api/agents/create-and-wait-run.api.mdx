---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/glean-api-agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::info beta

This endpoint is in Beta. Expect changes and instability.

:::

Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"title":"Run","description":"The run information.","allOf":[{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"},{"type":"object","properties":{"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}}}]},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages returned by the run."}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      