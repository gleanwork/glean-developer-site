---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/glean-api-agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::info beta

This endpoint is in Beta. Expect changes and instability.

:::

Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"title":"Run","description":"The run information.","allOf":[{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"},{"type":"object","properties":{"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}}}]},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages returned by the run."}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      