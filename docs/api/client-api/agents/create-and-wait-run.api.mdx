---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response. **Note**: If the agent uses an input form trigger, all form fields (including optional fields) must be included in the `input` object."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/glean-api-agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::info beta

This endpoint is in Beta. Expect changes and instability.

:::

Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response. **Note**: If the agent uses an input form trigger, all form fields (including optional fields) must be included in the `input` object.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run. **Important**: If the agent uses an input form trigger, the `input` field is required and must include all fields defined in the form schema. Even fields marked as optional in the UI must be included in the request—use an empty string (`\"\"`) for optional fields without values. Omitting required form fields will result in a 500 error.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent. Required when the agent uses an input form trigger.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"title":"Run","description":"The run information.","allOf":[{"description":"Payload for creating a run. **Important**: If the agent uses an input form trigger, the `input` field is required and must include all fields defined in the form schema. Even fields marked as optional in the UI must be included in the request—use an empty string (`\"\"`) for optional fields without values. Omitting required form fields will result in a 500 error.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent. Required when the agent uses an input form trigger.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"},{"type":"object","properties":{"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}}}]},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages returned by the run."}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      