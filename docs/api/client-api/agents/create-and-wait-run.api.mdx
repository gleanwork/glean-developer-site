---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: eJztWV+T27YR/yoo+mBqhqIcN32InGuqO8sXpcn55u7STEfS3EDkioIFATQA6qTR6Lt3FiBESqLsZNppXyw/mAfuLnZ/+weL5Y5alhvaH9NBDtIaOo1pBibVvLBcSdqnww2kpQVDmCRjhkTTaGFtYfq9XgZrEKoAbZJcAJNJqlY9R2Oq/7qs4B2iS0mYzIgGW2ppiF0AmXPJBNFgCiUNJDSmKIjhrqOM9mmqgVkYyOw3xu1DKWlMN901N3zGBbdb2qf3GtYcXmhMNXwqwdhrlW1pf0dTJS1Ii4+sKARPndTeR4MG7ahJF7Bi+HRs6T3bCsUyMleauN25zAlD5VE7uy2A9qmafYTUVntyDRli52x95hmiV2i0w3Iwbv/wpr8LEozVXOYokVuBCw55MsroKfRPCyCjd0TNHWBOFLHKK7SPKZdFaRuCD6oFwSNH0CbVsaKsg2A0kWUZRyIm7htGWF3CPqYrMIbl3qpqQ6Y12zb2+yWQtG0Z+HHXghkXT+1qcAsr02bXMbRa4aaXYX3A922aIGMAtdLK4dkImyDjplpqE1ORn0mKT+G5aE8zhCxsbGCdnkH6BBt7LVS6PEPB8Z2hsA9KnMMDslwdNpzu/Q/da1nGLPtcPP0SaNr9618e/PsHomt/kgwPpbxx6U+dbjVOVSyGquEQePP69XkuP5ZpCgYj8XcXgy9EWyn/04rxtTJ8rQxfK8MfqwwxNZbZ0pznHkr27wLOGP3kg3QefAVaK/0qJq+MrwSvGvCfWeyIaUwr2ibMLgV9D8SVfPTKHBel5vn/30wH3y1BRmbbg31fk+D/kQQt55PrSqtjiHqSb9sOomuGba9rT6mj+cs5zXulZzzLQHqKb88p7pQl71UpM0/x3TnFjZJzwVO/yZs35wT/ZIJn7uwjQxfu+5j+tU3jkbSgsTc3oNegiU8ONHDTNQWwJTCz7eZalQW26YJjFvtunx7TSLaCrlqD1jxD7HTVxacqg0e2KgT6aLyjgskcT9OtXSikEGwG4rBAosH9iNy4fTqYpKrUKYqba7Ui/t7BCv7sNSF8VShtyS2uT2T1lzITif9euF34V9FEEkIIMlq1BHmlTJKDBbmOJvT25+Hg7nlwP3p++vCP4d2ExmRCJ7QTeyYujWUyhRae0d3j0+DuZthk6RBmvJ591AElaDDkqtL9CMFElzIK5eRqQr/n2d8mtBP4/kx+ZDITcLg3+eVCc2kjDaZD9/EBz5/Ymj06xzYwfdoWlbcv4lphtvNAkT1xQE/o352+L0ove6zgXa/3hL5F5VIljfUGkSsi4aVCeYcKsoI/IcZ9UmiFBTYBuR63wDwlP/zgYHNAB5jb2Wqkm1z7jlOHma1MybyUqQt4BLVDnC5eUQ2mFJZcEfbCuL3oiF0VJLgyyvok+MOpV21FSK8XvOKqtBMdtlICEqHyyK8ixx6ZnEJvm866VQ0n3aqLzilYumQ5kBXjLqK9s6KJnNiJL9EbO6H+T2X8Eyu4ty1XZEJzbhflzF3V2xzazVXg/zJlb6UyEKaXqlWhJOIWeIXK8dFFLvrBKRycQEhqN6R/RSqFk2uWLrGiyCw6xLpBgobqyR28VFlbZe7hzW/cLh4hLTW320iZ5PZiIndCDreJGFUB1yKijraDhE4jmWOskqivSbzPEj9OSR5KGaV2E5MaoeT4irOr9XEvRu9O4gwjrao7c7fNn66I5II0GIXKk/fMMhGB1hXx/sCjod6zeWy1COr1yKKtwOwncn9aWhrxin9+MWIXIIRKXpQW2ds6cslHtmYJik2GmxTcIfS2rts6T1QBkhXchIfEVZYv0Pi4TC6i/vvYDxMpk9ycjKMCiM6UopwJnpJUYHc7qG+ZCG1VoT0FNqw8JWvFM58Qj67vGE8J07npELvQ6sWQAxK1APz5emyyJbnyz8ms5CIDHXVqovBLQtWNJvT7f3349eH5ejh4GD74THj+cfgw9CfLGWOouwfG4xS4wOp1iUJRbET0AXRshMjVyeLnbfCVN2ochGc0bfte8lZ18JpsWVX7qFPV+6jjKn7bBlX7Fmn41PY6ZUKcbM/nBCu+F32SdVEn4eZeg3G7d5rZ97kMJHVK+2ScxhQ2FqTB8HRt1BJwKno0JI3pmokSGsNSTOJAeNrN1dTHXV07z3F3V/Nil4farcAuFE5yC2Xc9YTZBe3TngZj8RTprb8Js2JdStPDkxjrhus6vUWlxuoSps27EJj77gzqgbPbWnM2E77lD1S+s52zUlhsaqpVp/aFyYenIEhBIrstOLrW371gxbggmcKkJdhFKhxPLIA8/fwO05ZZkoEFveIS/Hw7g0Ko7Qpb0hlLlyCzBO8JU7TQn1TOxMH9yGUp7Y+nzZePOJfyBtUk1bgKUZ4B06Dr2xSC5Jp0HGw91PPw4cY12scTp/q6EyZFR/fWcbg91nSHy9843KkaN0qvgVveTyvXh5HB3o2j5goVQL96vF8n3yWvTwdd59dhv0zqMuwmbb4MDu5H7jIhVO6EH8cKK4rGJwm+QsN8E9NFPd8kZu2ugacBjc3XQfw+drG7Yg766nVVypisxm7h24ZrJFG9qgn0N8MTixrfJv6HH1YaDuoVgnF3z3R47aqsHONIFbOPFRzz6Rt8DD7B7KQxdfk5jekC07k/prvdjBn4VYv9Hpc/laAxpKd1OrqYjukCWAa6UaKqsUEX7yKNwnE2nq3rziDFA/GztM2Kc//h8YnGdFZ9D8LTHAsTc9+K2AvtU/e5yfrSufNrvrkpWY60Xib+/g3HfSpX
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::info beta

This endpoint is in Beta. Expect changes and instability.

:::

Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","title":"Messages","description":"The messages to pass an input to the agent.","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message."},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","required":["text","type"],"title":"MessageTextBlock","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"]}}}}}}},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"description":"Payload for creating a run.","type":"object","properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","title":"Messages","description":"The messages to pass an input to the agent.","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message."},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","required":["text","type"],"title":"MessageTextBlock","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"]}}}}}}},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true},"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}},"required":["agent_id"]},"messages":{"type":"array","title":"Messages","description":"The messages returned by the run.","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message."},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","required":["text","type"],"title":"MessageTextBlock","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"]}}}}}}}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      