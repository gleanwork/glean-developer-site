---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response. **Note**: If the agent uses an input form trigger, all form fields (including optional fields) must be included in the `input` object."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/glean-api-agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::info beta

This endpoint is in Beta. Expect changes and instability.

:::

Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response. **Note**: If the agent uses an input form trigger, all form fields (including optional fields) must be included in the `input` object.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run. **Important**: If the agent uses an input form trigger, the `input` field is required and must include all fields defined in the form schema. Even fields marked as optional in the UI must be included in the request—use an empty string (`\"\"`) for optional fields without values. Omitting required form fields will result in a 500 error.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent. Required when the agent uses an input form trigger.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"title":"Run","description":"The run information.","allOf":[{"description":"Payload for creating a run. **Important**: If the agent uses an input form trigger, the `input` field is required and must include all fields defined in the form schema. Even fields marked as optional in the UI must be included in the request—use an empty string (`\"\"`) for optional fields without values. Omitting required form fields will result in a 500 error.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent. Required when the agent uses an input form trigger.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"},{"type":"object","properties":{"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}}}]},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages returned by the run."}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      