---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","title":"Messages","description":"The messages to pass an input to the agent.","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message."},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","required":["text","type"],"title":"MessageTextBlock","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"]}}}}}}}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"description":"Payload for creating a run.","type":"object","properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","title":"Messages","description":"The messages to pass an input to the agent.","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message."},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","required":["text","type"],"title":"MessageTextBlock","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"]}}}}}}},"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}},"required":["agent_id"]},"messages":{"type":"array","title":"Messages","description":"The messages returned by the run.","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message."},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","required":["text","type"],"title":"MessageTextBlock","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"]}}}}}}}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      