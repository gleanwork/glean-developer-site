---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/glean-api-agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::info beta

This endpoint is in Beta. Expect changes and instability.

:::

Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"title":"Run","description":"The run information.","allOf":[{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"},{"type":"object","properties":{"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}}}]},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages returned by the run."}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      