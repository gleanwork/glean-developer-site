---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/glean-api-agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::info beta

This endpoint is in Beta. Expect changes and instability.

:::

Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"title":"Run","description":"The run information.","allOf":[{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"},{"type":"object","properties":{"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}}}]},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages returned by the run."}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      