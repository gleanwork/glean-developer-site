---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/glean-api-agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::info beta

This endpoint is in Beta. Expect changes and instability.

:::

Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"title":"Run","description":"The run information.","allOf":[{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"},{"type":"object","properties":{"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}}}]},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages returned by the run."}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      