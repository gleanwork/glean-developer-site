---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/glean-api-agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::info beta

This endpoint is in Beta. Expect changes and instability.

:::

Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"title":"Run","description":"The run information.","allOf":[{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"},{"type":"object","properties":{"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}}}]},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages returned by the run."}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      