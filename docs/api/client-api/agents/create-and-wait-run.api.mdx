---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/glean-api-agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>

:::info beta

This endpoint is in Beta. Expect changes and instability.

:::

Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"title":"Run","description":"The run information.","allOf":[{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"},{"type":"object","properties":{"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}}}]},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message.","example":"USER"},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages returned by the run."}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      