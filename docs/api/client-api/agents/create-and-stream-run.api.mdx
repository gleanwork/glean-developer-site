---
id: create-and-stream-run
title: "Create an agent run and stream the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the result as a stream of server-sent events (SSE)."
sidebar_label: "Create an agent run and stream the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and stream the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/stream"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the result as a stream of server-sent events (SSE).

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","title":"Messages","description":"The messages to pass an input to the agent.","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message."},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","required":["text","type"],"title":"MessageTextBlock","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"]}}}}}}}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"text/event-stream":{"schema":{"type":"string","description":"The server will send a stream of events in server-sent events (SSE) format.","example":"id: 1\nevent: message\ndata: {\"messages\":[{\"role\":\"GLEAN_AI\",\"content\":[{\"text\":\"Hello\",\"type\":\"text\"}]}]}\n\nid: 2\nevent: message\ndata: {\"messages\":[{\"role\":\"GLEAN_AI\",\"content\":[{\"text\":\",\",\"type\":\"text\"}]}]}\n\nid: 3\nevent: message\ndata: {\"messages\":[{\"role\":\"GLEAN_AI\",\"content\":[{\"text\":\" I'm\",\"type\":\"text\"}]}]}\n\nid: 4\nevent: message\ndata: {\"messages\":[{\"role\":\"GLEAN_AI\",\"content\":[{\"text\":\" your\",\"type\":\"text\"}]}]}\n"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"string","title":"ErrorResponse","description":"Error message returned from the server"}}}},"409":{"description":"Conflict","content":{"application/json":{"schema":{"type":"string","title":"ErrorResponse","description":"Error message returned from the server"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"type":"string","title":"ErrorResponse","description":"Error message returned from the server"}}}},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      