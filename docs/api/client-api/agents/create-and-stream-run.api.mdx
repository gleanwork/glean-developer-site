---
id: create-and-stream-run
title: "Create an agent run and stream the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the result as a stream of server-sent events (SSE)."
sidebar_label: "Create an agent run and stream the response"
hide_title: true
hide_table_of_contents: true
api: eJzNWd1z27gR/1dQ9KHUjEQlufThlHOvsqMkau8cj+Rrp2NqPBC5lhCDAAOAsjUa/e+dBQiSkqi4fchM9GIS3C/89gOL9Y5atjJ0dEfHK5DW0EWfZmBSzQvLlaQjOnmGtLRgCJPkjiHRIlpbW5jRcJjBBoQqQJt4JYDJOFX50NGY6s+AFbxHdCkJkxnRYEstDbFrIBpMKSxhhjBirAaWE/VADOgN6IEBaQlsUAKJ5vNJL6Z9iooYWjXN6IimGpiFsczmjnlWStqnz4MNN3zJBbdbOqI3GjYcnmifavhagrGXKtvS0Y6mSlqQFh9ZUQieOrnDLwa3vKMmXUPO8OkQixu2FYpl5EFp4vRzuSIMt4f22W0BdETV8gukttLJNWSIrkPjnmeIb6FxJ5aDcfrDl9EuSDBWc7lCidwKXHC+IdOMHjvndg1k+h6BQ0idKGKVN2jfp1wWpW0Jrk0LgqeOoEuqY0VZtWDcIssyjkRM3LQ2YXUJ+z7NwRi28ruqFDKt2bal7/dA0qUy8KPWghkXcd1mcAu56drXIbRaodLzsM7we5clyBhAraxyeLbCJsi4qpa6xFTkJ5L6x/Cc3U87hCw828C6OIH0Fp7tpVDp4wkKju8EhX0w4hQekGVeK1zs/Q/da1nGLPtWPP0eaLr96z/W/v0/omt/lAyzUl65AkCdbQ1OVSxqMIWSxiPw5tWr01yel2kKBiOx7VV4tkNXdwa+Jh1Wg2OkTvfo6xd54kIQAzI7KG5VQePybJnDypIzBwY8s7xwG+bZiLxOpKMbhShKJEI5IrukzruEju52iYv6hI4S+vG3yfj6fjxNaD8Jm6xocJ+O5hMIoRwB7s0t+W/7xX6xT2QiUfub76S9/6Lmn76TZjL9S/6i8rffS/lWlfob2qlPuLddYXvJ8Bh1hxl1ND+d0nxQesmzDKSneHtKca0s+aBKmR2G/7fPwnNldKK10rMq4U6ywn0NAFYdAGTkQavcZb9PhXrLP58ae6Xkg+CuzvxQtr55c2rrv5jgmTOKOGE/mM1/7QqpqbSgJROheIEzHMmfB6YA9gjMbAcrrcoC+y7BsVz79o4e0kiWw0BtQGueoeW6lL47c3SpymDuiho2nDsqmFxhU7W1a4XNm2BLEPUCicY3U3LltPVonxpV6hSFup35dpMV/N7bQ3heKG3JR1xPZPWmDKZyIp+4XftPUSIJIQQZrXoEeaFMvAILchPVuXszvb/9/M/JdUL7JKEJ7fU9E5fGMplCB8/0en47vr6atFl62Ns6O0doA0rQYMhFZfsBjrEu5b0/KKLQEF4k9Bee/S2hvcD+Z/KJyUy43tkFg18uNJc20mB6dN+vYf0H27C583IL2tttUbn+LLwVdDuPF9n7SEro353ZT0o/DlnBB978hL5D41IljfX7IhdEwlMF9g4NZAW/RahHpNAKj9wY5OauA+0F+fVXh57DO6DdzdYA3uba95w5zGxlSh5KmbpE1KWMesTZ4g2trh4XhD0xbs/5w0eu3wPxTco0G5HgFWdkpZCQ4TD4prnbBIVKQCzUKvKryOFOGGfWu7bLPqqWqz6qsy4qWPqIyZ4z7sLbuyxKZGKrMwcPE/+qjH9iBfc7XCmS0BW363Lprmtdbh2sVOB/mXKYqwyEGaYqL5RE9AKvUCt8dPGL3nAGB1cQktpnMroglcHxJUsfscjILKoj3iBBy/T4Gp6qFK7SuP7yb27Xc0hLze02Uib+eDareyGhu0RMq7DrENHEXC2h18rsPhZOtNfE3mexv1LHszqWUvvcJw1O8WEru2usch+m74+iDeOtKkUPTtmfLojkgrQYhVrFH5hlIgKtK+J9zaPBxDMwHXzDIVl31ZZ9IvfHVaUVpPj6YpiusceMn5QW2bsmXMkXtmExio0nzym4w+hdU7n1KlYFSFZwEx5iV1ReoPHBGJ8F+X9jr0cNJr46mTOEo9htpiiXgqckFXihGTfnO4JblWdPYSyzPCUbxTOfB3N3zt8tCNMr0yN2rdWTITUWjQD8+WJsskdy4Z/jZclFBjrqNUThF4eSGyX0l/98/mN2fzkZzyYznwD3nyaziT9WThhD0a0ZDyP/DKu3JQq1sBXCNezYs5KLo8Vv78EX3Kh1Cp7QdOk976/q+DXZY1Xso15V7qNeq+B3Kao67kjD167PKRPiyAz+QLDgxxpQOjc3GoxT2Wun3bdSjzSp67NwgZdCC9JgXLoO6hFwynUw9OrTDRMltIZfmL2B8Lida6gP27punsP2ruFt2jy0MQe7VjihK5RxMxlm13REhxqMxZNjuHkdZoS6lGZoQofo20+/s1JjeQlzxl2Iy/1gCc2o0ZmgOVsKf88PVL7FfWClsNjQVKvO/DOzLk9BkIJEdltw9OjWneWQMy5IpjBnCTaSCgdSayC3v73HrGWWZGBB51yCn2xmUAi1zbErXbL0EWQWY/u9wB3682mOPb+3eXwzdalaXwUQ0CUwDbqZEyEOriHHS8OsGWVOwoygPUZsLhBh/Hcwm7sLc7GGrr6h3IVpUesS4i1wy3g9PZgD7d2M8UGhAeg6D+mr+Of41fH08nTk55dJU2rdWNUXuvHN1F0ZhFo54YfhwIqiNW/mOW7MdycDtPNNbDZuwHUcu9hV1eL3fRegOXPQV5+rYsVkNUsNg+tqhlP1dp0XsdZQ+QeambfcNywE424k4NDcVYl5h7MyzFNWcEyo1/gYPIYJipnpU3TRp2vM6dEd3e2WzMAfWuz3uPy1BL2lo7tFk5H4tu/TNbAMdKtaVQPTAV5FWjXk5GrclKBxikdii/Z0SndQd24+z29pny6rWT8e6VikmPs/AHuiI+r+mWB9Gd35Nd/hlGyFtN4A/P0X8lB/ZA==
sidebar_class_name: "post api-method"
info_path: api/client-api/agents/agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and stream the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/stream"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the result as a stream of server-sent events (SSE).

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","title":"Messages","description":"The messages to pass an input to the agent.","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message."},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","required":["text","type"],"title":"MessageTextBlock","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"]}}}}}}},"metadata":{"type":"object","title":"Metadata","description":"The metadata to pass to the agent.","additionalProperties":true}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"text/event-stream":{"schema":{"type":"string","description":"The server will send a stream of events in server-sent events (SSE) format.","example":"id: 1\nevent: message\ndata: {\"messages\":[{\"role\":\"GLEAN_AI\",\"content\":[{\"text\":\"Hello\",\"type\":\"text\"}]}]}\n\nid: 2\nevent: message\ndata: {\"messages\":[{\"role\":\"GLEAN_AI\",\"content\":[{\"text\":\",\",\"type\":\"text\"}]}]}\n\nid: 3\nevent: message\ndata: {\"messages\":[{\"role\":\"GLEAN_AI\",\"content\":[{\"text\":\" I'm\",\"type\":\"text\"}]}]}\n\nid: 4\nevent: message\ndata: {\"messages\":[{\"role\":\"GLEAN_AI\",\"content\":[{\"text\":\" your\",\"type\":\"text\"}]}]}\n"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"string","title":"ErrorResponse","description":"Error message returned from the server"}}}},"409":{"description":"Conflict","content":{"application/json":{"schema":{"type":"string","title":"ErrorResponse","description":"Error message returned from the server"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"type":"string","title":"ErrorResponse","description":"Error message returned from the server"}}}},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      