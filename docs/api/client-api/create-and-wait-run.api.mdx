---
id: create-and-wait-run
title: "Create an agent run and wait for the response"
description: "Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response."
sidebar_label: "Create an agent run and wait for the response"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/client-api/agents
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create an agent run and wait for the response"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/rest/api/v1/agents/runs/wait"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Executes an [agent](https://developers.glean.com/agents/agents-api) run and returns the final response.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"content":{"application/json":{"schema":{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message."},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."}},"title":"AgentRunCreate"}}},"required":true}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"run":{"title":"Run","description":"The run information.","allOf":[{"description":"Payload for creating a run.","type":"object","required":["agent_id"],"properties":{"agent_id":{"type":"string","title":"Agent Id","description":"The ID of the agent to run."},"input":{"type":"object","title":"Input","description":"The input to the agent.","additionalProperties":true},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message."},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages to pass an input to the agent."}},"title":"AgentRunCreate"},{"type":"object","properties":{"status":{"description":"The status of the run. One of 'error', 'success'.","type":"string","enum":["error","success"],"title":"AgentExecutionStatus"}}}]},"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","title":"Role","description":"The role of the message."},"content":{"title":"Content","description":"The content of the message.","type":"array","items":{"type":"object","properties":{"text":{"type":"string"},"type":{"type":"string","enum":["text"],"title":"ContentType"}},"required":["text","type"],"title":"MessageTextBlock"}}},"title":"Message"},"title":"Messages","description":"The messages returned by the run."}},"title":"AgentRunWaitResponse"}}}},"400":{"description":"Bad request"},"403":{"description":"Forbidden"},"404":{"description":"Not Found"},"409":{"description":"Conflict"},"422":{"description":"Validation Error"},"500":{"description":"Internal server error"}}}
>
  
</StatusCodes>


      